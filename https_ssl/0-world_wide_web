#!/usr/bin/env bash
# Script to display DNS information about domain subdomains

# Function to get record type and IP for a subdomain
get_subdomain_info() {
    local domain=$1
    local subdomain=$2
    local result
    result=$(dig $subdomain.$domain +short)
    if [[ -n $result ]]; then
        echo "The subdomain $subdomain is a A record and points to $result"
    else
        echo "The subdomain $subdomain does not exist or has no A record"
    fi
}

domain=$1
subdomain=$2

# If only domain is provided, check all 4 subdomains
if [[ -z $subdomain ]]; then
    for sd in www lb-01 web-01 web-02; do
        get_subdomain_info $domain $sd
    done
else
    # If domain + subdomain provided, check only that one
    get_subdomain_info $domain $subdomain
fi

