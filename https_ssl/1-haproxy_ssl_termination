# HAProxy configuration for SSL termination (task 1)
# Replace /etc/letsencrypt/live/www.example.com/haproxy.pem with your actual cert+key PEM
# Make sure the PEM contains privkey + fullchain concatenated (certbot/letsencrypt can provide)
global
    log /dev/log local0
    maxconn 4096
    daemon

defaults
    log     global
    mode    http
    option  httplog
    option  dontlognull
    timeout connect 5000
    timeout client  50000
    timeout server  50000

frontend https_front
    bind *:443 ssl crt /etc/letsencrypt/live/www.holberton.online/haproxy.pem
    mode http
    option forwardfor
    default_backend web_back

backend web_back
    mode http
    balance roundrobin
    # Replace the IPs below with your actual web server IPs if different
    server web-01 13.220.103.184:80 check
    server web-02 3.85.233.7:80 check
